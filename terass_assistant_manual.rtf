{\rtf1\ansi
\b TERASSアシスタント アプリ取扱説明書・仕様書\b0

\b はじめに\b0
この取扱説明書は、TERASS業務支援アプリ（以下、アプリ）の使用方法と仕様をまとめたものです。アプリは不動産エージェントの日常業務を支援するために設計されており、社内マニュアルやTerass Cloud／Picksのナレッジを参照して質問に答えるチャットボット機能、報酬計算やクラス判定機能、業務データのダッシュボード表示機能などを備えています。

\b 1. インストール方法と起動\b0
1. **環境準備**：アプリはPWA（Progressive Web App）として構築されており、ブラウザ上で動作します。開発版をローカル環境で動かす場合は、ダウンロードしたフォルダ内の`index.html`をブラウザで開いてください。Windows用に`launch_terass.bat`が用意されており、ダブルクリックするとブラウザでアプリが起動します。
2. **ホーム画面への追加**：ブラウザのメニューから「ホーム画面に追加」を選択すると、スマートフォンやPCのホーム画面にアイコンとして追加できます。PWAのためオフライン時でも基本機能にアクセス可能です【710694172556817†screenshot】。

\b 2. 主要機能\b0

\b 2.1 チャットQ&A機能\b0
- NotionやTerass Cloud/Picksのマニュアルから抽出したナレッジベースに基づき、業務に関する質問に回答します。例えば「手付金の手順は？」と尋ねると、手付金預かり業務の手順を番号付きで提示します【810010336842200†screenshot】。【46525932097992†screenshot】に示されるシステムメッセージのガイドラインに従い、具体的で実用的な回答を行います。
- 質問が曖昧な場合は追加の条件を質問し、不明確な内容や範囲外の質問は丁寧にお断りします。
- チャット画面にはユーザーとAIの吹き出しが交互に表示され、メッセージは自動でスクロールします。

\b 2.2 チャット履歴の管理\b0
- 会話履歴はブラウザのローカルストレージに保存され、再起動後も前回の会話内容を読み出せます。画面右下の「履歴を見る」ボタンで履歴の表示・非表示を切り替え、「履歴を削除」ボタンで履歴を完全に消去できます【312514054590299†screenshot】。

\b 2.3 音声入力\b0
- Web Speech APIを利用し、日本語音声をテキストに変換して質問を送信できます。マイクボタンを押すと録音が開始され、認識が完了するとテキストが入力欄に反映されます【710694172556817†screenshot】。
- 音声認識中はステータス表示が現れ、途中でキャンセルも可能です。騒音環境では認識精度が低下する場合があります。

\b 2.4 報酬計算ツール\b0
- 取引の仲介手数料を入力すると、自己発見案件75%、本部紹介案件40%、Terass Offer案件55%などのルールに従ってエージェント報酬を計算します【312514054590299†screenshot】。
- 年間累計売上が2,000万円を超えるとボーナスステージとして報酬率が90%に引き上げられます【824024368956356†screenshot】。
- 結果は「報酬額」「適用率」「ボーナスステージ達成」の3項目で表示されます。

\b 2.5 エージェントクラス判定\b0
- 年間売上と成約件数を入力すると、Premier／Senior／Expert／Lead／Tier 1–3／Junior などのクラスを判定します。クラスごとの昇格条件は地域（首都圏／地方）で異なります。
- 判定結果とともに、次のクラスへ昇格するために必要な残り売上額や成約件数を表示します【678778664911183†screenshot】。

\b 2.6 ダッシュボード（メトリクス表示）\b0
- HubSpot・GitHub・Google Driveのコネクタから取得した最新の業務指標をカード形式で表示します。例えば、Contacts 4件、Companies 3件、Deals 0件、Tickets 0件、オープンPR 2件、オープンIssue 0件、最近のドキュメント 5件などを示します【312514054590299†screenshot】。
- 進捗バーや月別売上グラフなどのビジュアルを使って、年間売上目標の達成状況を一目で確認できます。

\b 2.7 PWA機能\b0
- アプリはPWAとして構築されているため、オフライン環境でもチャット履歴の閲覧やナレッジベース参照が可能です。
- サービスワーカーとキャッシュを利用して、ネットワーク接続が復帰するとデータを自動同期します。

\b 2.8 ナレッジベースとデータ管理\b0
- 社内の取扱説明書やマニュアル（約550行・15カテゴリー）をテキスト化し、ベクトルデータベースに格納することで高速検索を実現しています【824024368956356†screenshot】。
- 例：手付金預かりの14ステップ、重要事項説明のチェックリスト、役所調査項目などを細分化し、AIが適宜引用して回答します【810010336842200†screenshot】。

\b 2.9 システム構成\b0
- **フロントエンド**：ReactベースのSPAを採用し、チャット画面、ダッシュボード、計算フォームなどのコンポーネントで構成。Tailwind CSSを利用したシンプルかつモダンなUIです。
- **バックエンド**：サーバーレス関数を使用し、ユーザーからの問い合わせを受け取ると、ベクトルデータベース検索→OpenAI APIによる応答生成を行うRetrieval Augmented Generation構成です。
- **データソース**：Notionのマニュアル、Terass Cloud／Picksのナレッジ、HubSpot／GitHub／Google Driveのコネクタデータを統合します。【312514054590299†screenshot】のように、各指標はAPIツールを通じて取得しており、実データに基づいてダッシュボードに反映されます。

\b 3. アプリの利用手順\b0
1. **起動**：ブラウザでアプリURLにアクセスし、ホーム画面に追加すると、アプリのように起動できます。
2. **チャットによる質問**：画面下部のテキスト入力欄に質問を入力し送信ボタンを押すか、マイクボタンで音声入力を開始します。AIから返ってきた回答を確認し、必要に応じて追加の質問をしてください。
3. **履歴管理**：チャット画面右下のボタンで履歴の表示／非表示を切り替えたり、不要な履歴を削除したりできます。
4. **計算機能**：報酬計算やクラス判定を利用する際は、該当の入力フォームに値を入力して計算ボタンを押すと結果が表示されます。入力内容を変更すると結果は即座に更新されます。
5. **ダッシュボード閲覧**：トップページ上部にあるカードやグラフで現状の業務データを確認できます。数値は起動時の最新データを反映しています。

\b 4. 今後の改善タスク\b0
アプリは基本機能を備えていますが、さらに業務効率を高めるために以下の改善を予定しています：
1. **動的データ更新の自動化**：サーバーレス関数やCronジョブを用いてHubSpot・GitHub・Google Driveのデータを定期取得し、ダッシュボードの数値を自動更新する仕組みを追加します。
2. **ユーザー認証・権限管理**：社内利用向けにログイン機能を導入し、ユーザーごとに会話履歴や設定を区別できるようにします。
3. **ナレッジベースの自動更新**：NotionやTerass Cloudの文書追加・更新を検知し、ベクトルデータベースの再生成を自動で行うスクリプトを整備します。
4. **CRM連携強化**：HubSpotのリード情報から顧客プロフィールを取得し、適切な物件提案やローン試算を自動生成する機能を実装予定です。

\b 付録：環境変数と設定例\b0
アプリでOpenAIやNotionにアクセスするには、以下のような環境変数を設定する必要があります（値は例であり実際のキーは社内で管理します）。

```env
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NOTION_API_KEY=secret_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TERASS_CLOUD_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

APIキーは絶対に外部に漏らさないように注意してください【824024368956356†screenshot】。

---
この取扱説明書は、TERASSアシスタントアプリの現行機能と利用方法をまとめたものです。今後のアップデートで改善項目が追加される予定ですので、最新情報は社内ドキュメントを参照してください。

}